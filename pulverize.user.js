// ==UserScript==
// @name           UpUp.us Pulverize Groups
// @namespace      http://kol.upup.us/scripts/
// @description    Groups pulverizable equipment.
// @author         OneTonTomato
// @contributor    Hellion
// @contributor    Gemelli
// @include        http://*kingdomofloathing.com/smith.php*
// @include        http://*kingdomofloathing.com/craft.ph*
// @include        http://127.0.0.1:*/smith.php*
// @include        http://127.0.0.1:*/craft.php*
// ==/UserScript==

/* Pulverize data courtesy the Well Tempered Anvil:
http://www.feesher.com/anvil/index.php (old)
http://anvil.bewarethefgc.com/export_data.php  (new)
*/
// version 0.30: support for sea-salt items added.
// version 0.31: added the KoLMafia play-nice includes.
// version 0.32: massive updates to the group listing covering the last 6 months
// version 0.33: more massive updates, up to March 2010
// version 0.34: update through May 3, 2010
var currentVersion = 0.34;

var scriptName = "Pulverize Groups";
if(!GM_getValue('lastUpdate',false)) {
	var currentTime = parseInt(new Date().getTime()/60000);
	GM_setValue('lastUpdate',currentTime);
}

// item number: [class, elemental-chance, cold-chance, hot-chance, sleaze-chance, spooky-chance, stinky-chance, twinkly-chance]
var groupList = ({
2549:[7,,,,,,,100],3137:[5,,,,,,,100],1900:[11,,,,,,,100],542:[7,,,,,,,100],2097:[1,,,,,,,0],1901:[11,50,50,,,,,50],1902:[11,50,,,,50,,50],1903:[11,50,,,50,,,50],3849:[6,,,,,,,100],57:[10,,,,,,,100],1904:[11,50,,50,,,,50],1905:[11,50,,,,,50,50],1906:[11,,,,,,,100],362:[8,,,,,,,100],3713:[3,,,,,,,100],1940:[11,,,,,,,100],3857:[5,50,,,50,,,50],3970:[7,50,,50,,,,50],430:[10,,,,,,,100],404:[7,,,,,,,100],3607:[0,,,,,,,0],2659:[9,,,,,,,100],2752:[3,,,,,,,100],3778:[0,,,,,,,0],594:[7,,,,,,,100],1966:[11,,,,,,,100],153:[10,,,,,,,100],4058:[8,,,,,,,100],4059:[8,,,,,,,100],4269:[6,,,,,,,100],2539:[4,,,,,,,100],2074:[11,,,,,,,100],2078:[11,,,,,,,100],2684:[5,,,,,,,100],2684:[5,,,,,,,100],487:[9,,,,,,,100],2390:[4,66,,,33,,33,34],383:[7,,,,,,,100],390:[8,65,,,21,,44,35],382:[7,,,,,,,100],381:[7,,,,,,,100],2121:[8,,,,,,,100],19:[11,58,,,,,58,42],638:[11,60,28,,32,,,40],2171:[4,,,,,,,100],717:[10,,,,,,,100],715:[10,,,,,,,100],716:[10,,,,,,,100],718:[10,,,,,,,100],3933:[6,,,,,,,100],677:[7,,,,,,,100],889:[10,50,,50,,,,50],3093:[11,,,,,,,100],434:[10,,,,,,,100],3479:[10,,,,,,,100],435:[10,,,,,,,100],4324:[5,,,,,,,100],4076:[2,,,,,,,0],2455:[11,,,,,,,100],4265:[10,,,,,,,100],4264:[10,,,,,,,100],4266:[10,,,,,,,100],1313:[11,,,,,,,100],1312:[11,,,,,,,100],1314:[9,,,,,,,100],2456:[11,,,,,,,100],2483:[11,,,,,,,100],72:[11,,,,,,,100],2458:[11,,,,,,,100],111:[10,,,,,,,100],770:[10,,,,,,,100],774:[10,,,,,,,100],95:[10,,,,,,,100],1277:[10,,,,,,,100],94:[10,,,,,,,100],1275:[10,,,,,,,100],773:[10,,,,,,,100],110:[10,,,,,,,100],93:[11,,,,,,,100],2624:[3,,,,,,,100],2625:[11,,,,,,,100],2626:[3,80,16,16,16,16,16,17],494:[5,,,,,,,100],2716:[4,80,16,16,16,16,16,17],3329:[3,,,,,,,100],2508:[9,,,,,,,100],2391:[6,,,,,,,100],2401:[3,50,,,,,50,50],444:[11,,,,,,,100],2069:[4,,,,,,,100],2689:[3,66,,,33,,33,34],517:[11,,,,,,,100],3958:[6,80,16,16,16,16,16,17],2353:[4,,,,,,,100],4113:[4,,,,,,,100],3577:[7,,,,,,,100],2239:[4,,,,,,,100],449:[10,,,,,,,100],235:[3,,,,,,,100],3088:[5,66,,33,,,33,34],3090:[5,66,,33,,,33,34],4112:[4,66,,33,,33,,34],32:[10,,,,,,,100],2270:[5,,,,,,,100],2641:[4,,,,,,,100],2640:[4,,,,,,,100],2061:[4,,,,,,,100],3865:[5,,,,,,,100],2062:[4,,,,,,,100],2060:[4,,,,,,,100],2707:[3,,,,,,,100],2706:[3,,,,,,,100],2705:[3,,,,,,,100],4326:[5,,,,,,,100],432:[10,60,,,,60,,40],2759:[3,,,,,,,100],2952:[11,,,,,,,100],1689:[11,,,,,,,100],2208:[11,,,,,,,100],3858:[7,50,,,,50,,50],1248:[8,,,,,,,100],2981:[3,,,,,,,100],3084:[7,,,,,,,100],287:[8,,,,,,,100],1250:[9,,,,,,,100],1249:[9,,,,,,,100],2385:[4,,,,,,,100],2253:[10,,,,,,,100],2416:[7,,,,,,,100],2418:[7,,,,,,,100],2417:[7,,,,,,,100],943:[7,,,,,,,100],944:[7,,,,,,,100],942:[7,,,,,,,100],427:[11,,,,,,,100],2251:[11,,,,,,,100],445:[11,,,,,,,100],447:[11,,,,,,,100],3850:[10,,,,,,,100],3851:[10,,,,,,,100],4206:[0,,,,,,,0],4207:[0,,,,,,,0],4111:[4,66,33,,,33,,34],4487:[12,,,,,,,0],2813:[3,,,,,,,100],2814:[3,,,,,,,100],2816:[3,,,,,,,100],2818:[8,,,,,,,100],2817:[8,,,,,,,100],2815:[8,,,,,,,100],1934:[6,66,,33,,,33,33],2126:[7,,,,,,,100],3355:[11,,,,,,,100],1711:[8,,,,,,,100],2254:[10,,,,,,,100],1683:[9,,,,,,,100],1682:[9,,,,,,,100],1681:[9,,,,,,,100],1740:[6,66,,33,33,,,34],116:[3,,,,,,,100],2032:[4,,,,,,,100],566:[11,60,24,,36,,,40],2995:[5,,,,,,,100],3285:[5,50,,,,,50,50],3284:[7,50,,,,,50,50],2365:[10,,,,,,,100],3089:[5,66,,33,,,33,34],2234:[10,,,,,,,100],1714:[9,,,,,,,100],1403:[7,50,50,,,,,50],291:[10,66,20,,,46,,34],2663:[8,,,,,,,100],2983:[3,,,,,,,100],1245:[9,,,,,,,100],2252:[11,,,,,,,100],1688:[9,,,,,,,100],1779:[11,,,,,,,100],1680:[9,,,,,,,100],1679:[9,,,,,,,100],1921:[11,,,,,,,100],1736:[6,50,,,,,50,50],2690:[3,,,,,,,100],2628:[3,,,,,,,100],2627:[3,,,,,,,100],4386:[10,,,,,,,100],1615:[8,,,,,,,100],1617:[8,76,17,,34,25,,24],1616:[8,,,,,,,100],4106:[2,,,,,,,0],4147:[11,,,,,,,100],3860:[4,,,,,,,100],3634:[11,66,33,,,33,,34],1045:[11,50,,,50,,,50],293:[11,,,,,,,100],3385:[2,,,,,,,0],3261:[2,,,,,,,0],3262:[2,,,,,,,0],3260:[2,,,,,,,0],3384:[2,,,,,,,0],3383:[2,,,,,,,0],1946:[11,,,,,,,100],1945:[11,,,,,,,100],1943:[8,,,,,,,100],1944:[11,,,,,,,100],1941:[11,,,,,,,100],1942:[11,,,,,,,100],2793:[5,50,,,,50,,50],1490:[9,,,,,,,100],386:[6,,,,,,,100],392:[6,,,,,,,100],385:[6,,,,,,,100],384:[6,,,,,,,100],4322:[5,,,,,,,100],2990:[5,80,16,16,16,16,16,17],2991:[5,,,,,,,100],2989:[5,,,,,,,100],1328:[11,,,,,,,100],1331:[11,,,,,,,100],1327:[9,,,,,,,100],1340:[11,,,,,,,100],1912:[8,,,,,,,100],1108:[8,,,,,,,100],1097:[8,66,,33,,,33,34],1099:[8,,,,,,,100],1911:[8,,,,,,,100],
1910:[8,,,,,,,100],1098:[8,,,,,,,100],1502:[11,,,,,,,100],431:[10,,,,,,,100],2478:[11,66,33,,,33,,34],2475:[10,,,,,,,100],2476:[10,,,,,,,100],2477:[9,50,,,,50,,50],2485:[9,66,,,33,33,,34],3441:[5,80,16,16,16,16,16,17],702:[7,,,,,,,100],1007:[11,,,,,,,100],1547:[11,,,,,,,100],1613:[10,66,,33,,,33,33],4118:[3,,,,,,,100],152:[10,,,,,,,100],348:[8,,,,,,,100],4215:[0,,,,,,,0],2585:[6,,,,,,,100],1404:[7,,,,,,,100],336:[11,,,,,,,100],2495:[11,,,,,,,100],2756:[3,,,,,,,100],2985:[3,,,,,,,100],1772:[11,,,,,,,100],3318:[3,,,,,,,100],834:[8,,,,,,,100],2587:[6,,,,,,,100],4081:[2,,,,,,,0],4079:[2,,,,,,,0],3940:[8,,,,,,,100],3939:[10,,,,,,,100],3004:[11,,,,,,,100],1795:[1,,,,,,,0],875:[1,,,,,,,0],3968:[4,50,,,50,,,50],4239:[5,,,,,,,100],649:[7,66,,33,,,33,34],650:[7,,,,,,,100],648:[7,,,,,,,100],2209:[8,,,,,,,100],3271:[9,,,,,,,100],4441:[5,,,,,,,100],414:[8,,,,,,,100],313:[9,,,,,,,100],4123:[3,,,,,,,100],3328:[3,,,,,,,100],4117:[3,,,,,,,100],3142:[4,,,,,,,100],1720:[10,,,,,,,100],2971:[6,,,,,,,100],3052:[3,,,,,,,100],3051:[3,,,,,,,100],3050:[3,,,,,,,100],4086:[4,,,,,,,100],3064:[7,,,,,,,100],3106:[5,,,,,,,100],2847:[1,,,,,,,0],2394:[3,50,,,50,,,50],3337:[3,,,,,,,100],230:[10,,,,,,,100],3404:[9,50,,,50,,,50],2211:[11,,,,,,,100],2481:[8,50,,50,,,,50],2482:[11,75,,25,25,,25,25],2480:[9,,,,,,,100],2486:[8,50,,50,,,,50],295:[10,66,,,33,,33,34],499:[4,,,,,,,100],1730:[9,,,,,,,100],1729:[9,,,,,,,100],1728:[9,,,,,,,100],3644:[8,,,,,,,100],178:[9,,,,,,,100],4077:[2,,,,,,,0],472:[9,,,,,,,100],2031:[3,,,,,,,100],565:[11,56,,,,,56,44],880:[10,78,48,,,30,,22],154:[10,,,,,,,100],54:[10,,,,,,,100],1361:[11,44,,,,44,,56],1775:[11,50,,,,,50,50],2070:[4,66,33,,33,,,34],632:[11,50,,,50,,,50],34:[11,,,,,,,100],96:[10,,,,,,,100],3866:[9,75,,25,25,25,,25],600:[11,48,,,,,48,52],541:[7,,,,,,,100],2688:[10,66,,,33,,33,34],115:[10,,,,,,,100],114:[10,,,,,,,100],113:[10,,,,,,,100],2656:[4,,,,,,,100],555:[5,,,,,,,100],1396:[7,,,,,,,100],2703:[3,,,,,,,100],2702:[3,80,16,16,16,16,16,17],2700:[3,,,,,,,100],2699:[3,,,,,,,100],2701:[3,,,,,,,100],3984:[10,,,,,,,100],296:[11,80,16,16,16,16,16,17],3204:[4,,,,,,,100],3206:[4,,,,,,,100],3205:[4,,,,,,,100],1330:[11,,,,,,,100],1326:[11,,,,,,,100],1329:[9,,,,,,,100],1341:[11,,,,,,,100],2786:[5,75,,25,,25,25,25],735:[7,,,,,,,100],3519:[0,,,,,,,0],3517:[0,,,,,,,0],3518:[0,,,,,,,0],3519:[3,,,,,,,100],1773:[11,,,,,,,100],4327:[6,,,,,,,0],4327:[5,,,,,,,100],155:[10,,,,,,,100],3163:[3,,,,,,,100],3162:[3,,,,,,,100],3164:[3,,,,,,,100],3145:[3,,,,,,,100],151:[10,,,,,,,100],4527:[9,,,,,,,100],2399:[3,,,,,,,100],3633:[11,66,,33,,33,,34],3647:[7,,,,,,,100],3010:[1,,,,,,,0],686:[10,,,,,,,100],130:[11,,,,,,,100],3736:[9,66,,33,,33,,33],1126:[8,,,,,,,100],1781:[10,50,,50,,,,50],2398:[3,,,,,,,100],3003:[6,,,,,,,100],3941:[4,50,,,,50,,50],2610:[5,,,,,,,100],2123:[8,66,,33,,33,,34],149:[9,,,,,,,100],148:[9,,,,,,,100],147:[9,,,,,,,100],399:[7,,,,,,,100],195:[7,,,,,,,100],355:[7,,,,,,,100],4523:[9,,,,,,,100],224:[11,,,,,,,100],538:[7,,,,,,,100],1511:[11,,,,,,,100],2662:[8,,,,,,,100],3961:[10,,,,,,,100],955:[6,,,,,,,100],2777:[7,,,,,,,100],2778:[7,,,,,,,100],2779:[7,,,,,,,100],213:[9,,,,,,,100],700:[11,,,,,,,100],214:[9,50,,,,,50,50],1754:[9,,,,,,,100],3864:[9,,,,,,,100],2117:[11,50,,50,,,,50],2352:[3,50,,50,,,,50],3494:[0,,,,,,,0],3492:[0,,,,,,,0],3493:[0,,,,,,,0],4317:[5,,,,,,,100],3132:[3,50,,50,,,,50],1706:[9,50,,50,,,,50],473:[9,43,,43,,,,57],544:[8,59,,59,,,,41],2072:[11,,,,,,,100],4172:[7,,,,,,,100],4174:[7,,,,,,,100],4173:[7,,,,,,,100],701:[7,,,,,,,100],2368:[3,50,,,,,50,50],1707:[8,50,,,,50,,50],448:[10,,,,,,,100],1762:[10,50,,,,50,,50],1763:[10,50,,,50,,,50],1761:[10,50,,,,,50,50],1760:[10,50,50,,,,,50],1759:[10,50,,50,,,,50],3320:[3,,,,,,,100],3133:[3,50,50,,,,,50],3504:[11,,,,,,,100],3868:[8,50,50,,,,,50],3868:[8,50,50,,,,,50],3967:[4,50,50,,,,,50],696:[11,,,,,,,100],1712:[9,60,60,,,,,40],3389:[2,,,,,,,0],3252:[2,,,,,,,0],3253:[2,,,,,,,0],3251:[2,,,,,,,0],3286:[2,,,,,,,0],354:[8,45,45,,,,,55],3972:[5,50,50,,,,,50],2748:[3,,,,,,,100],2256:[10,66,,33,,33,,34],2255:[10,,,,,,,100],1287:[5,50,,,50,,,50],631:[5,48,,,48,,,52],1286:[5,50,,,50,,,50],1785:[6,,,,,,,100],2357:[4,50,,,,,50,50],4268:[5,,,,,,,100],3515:[0,,,,,,,0],3959:[10,,,,,,,100],4323:[5,,,,,,,100],3222:[5,66,33,,33,,,34],2637:[4,,,,,,,100],2515:[3,,,,,,,100],2586:[6,,,,,,,100],2577:[4,,,,,,,100],1741:[6,50,,,50,,,50],3960:[11,,,,,,,100],1690:[5,,,,,,,100],1151:[5,,,,,,,100],1691:[5,50,,,,,50,50],2692:[3,,,,,,,100],2387:[4,,,,,,,100],619:[5,,,,,,,100],1351:[7,,,,,,,100],1371:[7,,,,,,,100],1244:[9,,,,,,,100],1722:[9,50,,,50,,,50],3669:[10,,,,,,,100],3670:[10,,,,,,,100],3668:[10,,,,,,,100],3680:[0,,,,,,,0],629:[5,67,,34,,,33,33],505:[9,,,,,,,100],1037:[8,,,,,,,100],1100:[8,,,,,,,100],1289:[8,,,,,,,100],1288:[8,,,,,,,100],2490:[8,83,17,16,17,16,17,17],1032:[11,,,,,,,100],221:[8,,,,,,,100],129:[10,,,,,,,100],1750:[11,,,,,,,100],1751:[11,,,,,,,100],329:[9,,,,,,,100],2451:[3,50,,,,,50,50],4056:[8,,,,,,,100],4055:[8,,,,,,,100],3002:[7,,,,,,,100],703:[7,,,,,,,100],1748:[7,50,,,,50,,50],1533:[8,,,,,,,100],1532:[8,,,,,,,100],1531:[8,,,,,,,100],3862:[8,,,,,,,100],2998:[5,,,,,,,100],2120:[9,,,,,,,100],1673:[11,50,,,,50,,50],4325:[5,,,,,,,100],3637:[11,66,,33,,,33,34],1708:[9,50,,,50,,,50],
2760:[3,,,,,,,100],2287:[11,,,,,,,100],4080:[2,,,,,,,0],3446:[5,80,16,16,16,16,16,17],2973:[5,,,,,,,100],2997:[5,66,,,33,,33,34],2996:[5,,,,,,,100],4440:[4,,,,,,,100],1738:[6,,,,,,,100],3852:[10,,,,,,,100],1123:[11,,,,,,,100],713:[10,,,,,,,100],711:[10,,,,,,,100],712:[10,,,,,,,100],714:[10,,,,,,,100],3092:[11,,,,,,,100],2643:[4,50,,50,,,,50],4129:[2,,,,,,,0],4127:[2,,,,,,,0],4128:[2,,,,,,,0],693:[11,,,,,,,100],2243:[4,,,,,,,100],4504:[6,,,,,,,100],4244:[5,,,,,,,100],507:[6,,,,,,,100],847:[5,,,,,,,100],1034:[8,,,,,,,100],1029:[11,,,,,,,100],1285:[6,,,,,,,100],398:[6,,,,,,,100],1284:[6,,,,,,,100],2487:[6,,,,,,,100],3847:[9,50,,,,,50,50],2361:[4,,,,,,,100],2029:[4,,,,,,,100],3220:[11,,,,,,,100],3332:[3,,,,,,,100],3334:[3,,,,,,,100],1236:[1,,,,,,,0],3407:[2,,,,,,,0],3397:[2,,,,,,,0],3411:[2,,,,,,,0],0:[2,,,,,,,0],3409:[2,,,,,,,0],3408:[2,,,,,,,0],0:[2,,,,,,,0],3396:[2,,,,,,,0],3405:[2,,,,,,,0],3410:[2,,,,,,,0],3395:[2,,,,,,,0],3406:[2,,,,,,,0],0:[2,,,,,,,0],241:[9,45,,,45,,,55],4124:[3,,,,,,,100],2093:[7,,,,,,,100],1733:[6,50,,50,,,,50],3966:[4,50,,50,,,,50],1756:[8,,,,,,,100],878:[1,,,,,,,0],2790:[5,50,50,,,,,50],2791:[5,50,50,,,,,50],2789:[5,75,25,,25,25,,25],351:[8,62,29,33,,,,38],3009:[1,,,,,,,0],2618:[4,50,,,,50,,50],935:[7,,,,,,,100],3105:[5,80,16,16,16,16,16,17],2132:[10,,,,,,,100],876:[1,,,,,,,0],3859:[10,50,,50,,,,50],477:[9,73,,,41,,32,27],3943:[7,50,,,,,50,50],1160:[10,,,,,,,100],2755:[3,,,,,,,100],777:[7,,,,,,,100],4246:[12,,,,,,,100],1753:[11,,,,,,,100],289:[8,,,,,,,100],4100:[11,,,,,,,100],413:[9,,,,,,,100],1525:[11,,,,,,,100],3846:[4,75,,25,,25,25,25],3457:[11,,,,,,,100],2386:[4,,,,,,,100],229:[8,,,,,,,100],228:[8,,,,,,,100],227:[8,,,,,,,100],2066:[4,50,,,50,,,50],521:[11,,,,,,,100],2130:[10,,,,,,,100],2185:[11,,,,,,,100],776:[8,,,,,,,100],3848:[9,,,,,,,100],308:[9,,,,,,,100],309:[9,,,,,,,100],310:[9,,,,,,,100],694:[11,,,,,,,100],305:[11,,,,,,,100],306:[11,75,43,,32,,,25],1755:[8,,,,,,,100],38:[11,,,,,,,100],35:[11,,,,,,,100],1752:[11,,,,,,,100],36:[11,,,,,,,100],51:[10,,,,,,,100],312:[10,,,,,,,100],2245:[11,,,,,,,100],2246:[11,,,,,,,100],4267:[5,,,,,,,100],532:[11,,,,,,,100],4120:[3,,,,,,,127],2336:[4,,,,,,,100],2751:[3,,,,,,,100],492:[4,,,,,,,100],475:[9,,,,,,,100],4272:[5,,,,,,,100],3315:[3,,,,,,,100],4098:[11,,,,,,,100],415:[8,,,,,,,100],4126:[3,,,,,,,100],670:[8,56,,27,,,29,44],380:[7,,,,,,,100],391:[7,,,,,,,100],379:[7,,,,,,,100],378:[7,,,,,,,100],635:[11,,,,,,,100],3464:[10,,,,,,,100],698:[10,,,,,,,100],2030:[4,50,,,,,50,50],2363:[3,50,,,,,50,50],2649:[5,,,,,,,100],884:[10,,,,,,,100],3317:[3,,,,,,,100],2207:[11,,,,,,,100],1485:[11,,,,,,,100],1936:[7,50,,,,50,,50],60:[10,,,,,,,100],2134:[10,,,,,,,100],1273:[11,,,,,,,100],3844:[8,,,,,,,100],1008:[11,60,60,,,,,40],3867:[5,50,,50,,,,50],2170:[4,,,,,,,100],2080:[7,,,,,,,100],3314:[3,,,,,,,100],2081:[7,,,,,,,100],2079:[7,66,,33,,,33,34],4078:[2,,,,,,,0],3733:[10,,,,,,,100],3974:[7,50,,,50,,,50],3313:[3,,,,,,,100],1400:[7,,,,,,,100],3081:[7,,,,,,,100],2693:[3,,,,,,,100],2642:[4,,,,,,,100],268:[10,,,,,,,100],3918:[9,,,,,,,100],112:[10,,,,,,,100],1735:[9,,,,,,,100],389:[9,,,,,,,100],3804:[0,,,,,,,0],3695:[0,,,,,,,0],3591:[0,,,,,,,0],3695:[0,,,,,,,0],3806:[0,,,,,,,0],3803:[0,,,,,,,0],3805:[0,,,,,,,0],3592:[0,,,,,,,0],490:[4,,,,,,,100],360:[8,,,,,,,100],361:[8,,,,,,,100],4382:[11,50,,,,50,,50],4383:[11,50,,,,,50,50],4384:[12,50,,50,,,,50],597:[5,,,,,,,100],3599:[0,,,,,,,0],4110:[4,66,,,33,,33,34],1300:[11,,,,,,,100],4108:[4,66,,33,,,33,34],3331:[3,,,,,,,100],1220:[11,,,,,,,100],3319:[3,,,,,,,100],1721:[9,,,,,,,100],2798:[5,75,25,,25,,25,25],2799:[5,50,,,50,,,50],2800:[5,50,,,50,,,50],267:[10,48,,,48,,,52],2636:[4,50,,,,50,,50],4109:[4,66,33,,33,,,34],2621:[3,,,,,,,100],3942:[4,50,,,,,50,50],2392:[10,,,,,,,100],2494:[11,,,,,,,100],4270:[5,,,,,,,100],2754:[3,,,,,,,100],4387:[10,,,,,,,100],352:[9,56,,56,,,,44],1492:[8,,,,,,,100],2795:[5,75,,25,25,,25,25],3780:[0,,,,,,,0],2178:[11,80,16,16,16,16,16,17],3856:[6,,,,,,,100],3552:[0,,,,,,,0],3871:[10,,,,,,,100],3248:[2,,,,,,,0],3380:[2,,,,,,,0],3382:[2,,,,,,,0],3246:[2,,,,,,,0],3381:[2,,,,,,,0],3247:[2,,,,,,,0],3333:[3,,,,,,,100],904:[7,,,,,,,100],3140:[3,,,,,,,100],4119:[3,,,,,,,100],1964:[11,,,,,,,100],2073:[11,,,,,,,100],2366:[3,80,16,16,16,16,16,17],2762:[3,,,,,,,100],239:[9,,,,,,,100],240:[9,,,,,,,100],2764:[3,,,,,,,100],62:[11,,,,,,,100],3256:[2,,,,,,,0],3394:[2,,,,,,,0],3392:[2,,,,,,,0],3254:[2,,,,,,,0],2548:[7,,,,,,,100],1757:[7,,,,,,,100],3945:[7,,,,,,,100],3975:[7,,,,,,,100],294:[11,,,,,,,100],3978:[6,80,16,16,16,16,16,17],4378:[9,,,,,,,100],2609:[5,,,,,,,100],2611:[5,80,16,16,16,16,16,17],2607:[11,,,,,,,100],3141:[5,,,,,,,100],599:[11,,,,,,,100],3627:[11,,,,,,,100],68:[10,,,,,,,100],2633:[11,,,,,,,100],3636:[11,66,,,33,,33,34],2509:[9,,,,,,,100],4389:[10,,,,,,,100],2787:[5,50,,50,,,,50],396:[7,,,,,,,100],1035:[8,,,,,,,100],3638:[11,,,,,,,100],1030:[11,,,,,,,100],1281:[6,,,,,,,100],1280:[6,,,,,,,100],2071:[4,,,,,,,100],4082:[2,,,,,,,0],1718:[10,65,,,,,65,35],223:[9,,,,,,,100],4043:[8,,,,,,,100],4041:[8,,,,,,,100],4042:[8,,,,,,,100],97:[10,,,,,,,100],556:[10,72,40,,32,,,28],2443:[11,,,,,,,100],2763:[3,,,,,,,100],3249:[11,,,,,,,100],1299:[11,,,,,,,100],699:[10,,,,,,,100],1933:[6,,,,,,,100],3854:[10,,,,,,,100],688:[10,,,,,,,100],689:[10,,,,,,,100],1630:[10,,,,,,,100],690:[10,,,,,,,100],3863:[7,,,,,,,100],1234:[3,,,,,,,100],1235:[3,,,,,,,100],1230:[3,,,,,,,100],1233:[3,80,16,16,16,16,16,17],1231:[3,,,,,,,100],1232:[3,,,,,,,100],4385:[10,,,,,,,100],2244:[4,,,,,,,100],4379:[10,,,,,,,100],2233:[10,,,,,,,100],2233:[11,,,,,,,100],3096:[5,80,16,16,16,16,16,17],4125:[3,50,,50,,,,50],1793:[10,,,,,,,100],721:[10,,,,,,,100],719:[10,,,,,,,100],720:[10,,,,,,,100],722:[10,,,,,,,100],1528:[11,,,,,,,100],1742:[6,50,,,50,,,50],1719:[10,45,,,45,,,55],4524:[9,,,,,,,100],2115:[7,,,,,,,100],2588:[6,,,,,,,100],1739:[6,50,50,,,,,50],3654:[7,,,,,,,100],2783:[7,,,,,,,100],2784:[7,,,,,,,100],2785:[7,,,,,,,100],3218:[11,,,,,,,100],2758:[3,,,,,,,100],2796:[5,50,,,,,50,50],2238:[5,,,,,,,100],2241:[4,,,,,,,100],918:[5,,,,,,,100],920:[5,,,,,,,100],919:[5,,,,,,,100],1662:[11,,,,,,,100],1665:[11,,,,,,,100],1663:[11,,,,,,,100],1661:[11,,,,,,,100],1664:[11,,,,,,,100],1666:[11,,,,,,,100],1402:[7,,,,,,,100],3442:[5,80,16,16,16,16,16,17],3006:[3,80,16,16,16,16,16,17],3007:[3,,,,,,,100],3008:[3,80,16,16,16,16,16,17],1780:[7,,,,,,,100],1782:[6,50,,50,,,,50],1629:[10,66,,,33,,33,34],2622:[3,,,,,,,100],2623:[11,,,,,,,100],3873:[6,,,,,,,100],2757:[3,,,,,,,100],4097:[11,,,,,,,100],3813:[11,,,,,,,100],4390:[10,,,,,,,100],4121:[3,,,,,,,100],4391:[10,,,,,,,100],2337:[4,,,,,,,100],2257:[11,50,,,50,,,50],1723:[9,,,,,,,100],1370:[7,,,,,,,100],1246:[8,,,,,,,100],1491:[11,,,,,,,100],4116:[3,,,,,,,100],586:[5,,,,,,,100],1493:[7,,,,,,,100],1293:[8,,,,,,,100],835:[8,,,,,,,100],1296:[8,62,,34,,28,,38],1298:[8,,,,,,,100],2788:[5,50,,50,,,,50],1297:[8,66,,,29,,37,34],1295:[8,,,,,,,100],286:[10,,,,,,,100],1294:[8,,,,,,,100],4051:[8,,,,,,,100],2797:[5,50,,,,,50,50],3085:[7,,,,,,,100],50:[10,,,,,,,100],3335:[3,,,,,,,100],1315:[11,,,,,,,100],2510:[3,66,33,,,33,,34],2033:[4,66,33,,,33,,34],292:[10,50,,,50,,,50],2959:[7,,,,,,,100],2517:[3,,,,,,,100],3601:[0,,,,,,,0],671:[8,50,,,,50,,50],4018:[5,,,,,,,100],4020:[3,,,,,,,100],3600:[0,,,,,,,0],334:[9,,,,,,,100],3272:[9,,,,,,,100],416:[8,,,,,,,100],2122:[9,,,,,,,100],1745:[8,,,,,,,100],1744:[8,,,,,,,100],1743:[8,,,,,,,100],2518:[3,,,,,,,100],150:[10,,,,,,,100],2580:[11,,,,,,,100],3777:[0,,,,,,,100],4422:[4,,,,,,,100],4418:[4,,,,,,,100],4417:[4,66,,33,,33,,34],4421:[4,,,,,,,100],4415:[4,,,,,,,100],4416:[4,,,,,,,100],4420:[4,,,,,,,100],3310:[3,,,,,,,100],3472:[7,,,,,,,100],2248:[11,66,,,33,,33,34],1129:[8,,,,,,,100],1938:[7,,,,,,,100],3094:[11,,,,,,,100],3931:[8,,,,,,,100],922:[10,,,,,,,100],2247:[11,50,,,,,50,50],3944:[7,50,,,,50,,50],3330:[3,,,,,,,100],3522:[0,,,,,,,],3521:[12,,,,,,,100],1771:[11,,,,,,,100],2717:[3,,,,,,,100],199:[10,,,,,,,100],4057:[8,,,,,,,100],1737:[6,50,,,,50,,50],4237:[5,,,,,,,100],4234:[5,,,,,,,0],4234:[5,,,,,,,100],1972:[6,,,,,,,100],2987:[3,,,,,,,100],2496:[11,,,,,,,100],3447:[4,80,16,16,16,16,16,17],410:[9,,,,,,,100],4213:[0,,,,,,,0],4219:[0,,,,,,,0],163:[11,51,,,,51,,49],2249:[11,,,,,,,100],3136:[3,50,,,50,,,50],4316:[3,,,,,,,0],4241:[5,,,,,,,100],4187:[11,,,,,,,100],4028:[3,,,,,,,100],4024:[3,,,,,,,100],4027:[3,,,,,,,100],4025:[3,,,,,,,100],4026:[3,,,,,,,100],4022:[3,,,,,,,100],4021:[3,,,,,,,100],4023:[3,,,,,,,100],2362:[6,,,,,,,100],1732:[6,50,,,,,50,50],4459:[4,80,16,16,16,16,16,17],4458:[4,,,,,,,100],4460:[4,,,,,,,100],1937:[10,,,,,,,100],4529:[9,50,,50,,,,50],1935:[10,,,,,,,100],290:[8,,,,,,,100],4351:[10,50,50,,,,,50],4349:[10,,,,,,,100],4350:[10,66,,,33,,33,34],1784:[7,75,25,25,,25,,25],356:[7,,,,,,,100],4242:[5,66,,33,,33,,34],1401:[7,,,,,,,100],697:[10,,,,,,,100],2780:[7,,,,,,,100],2781:[7,,,,,,,100],2782:[7,,,,,,,100],3001:[5,,,,,,,100],1372:[7,,,,,,,100],1747:[7,,,,,,,100],4443:[5,,,,,,,100],4442:[5,,,,,,,100],3312:[3,,,,,,,100],4445:[5,,,,,,,100],4446:[5,,,,,,,100],4447:[5,,,,,,,100],2513:[3,66,,33,,,33,34],531:[11,,,,,,,100],4380:[7,,,,,,,100],668:[7,61,,,,61,,39],3924:[6,,,,,,,100],3926:[6,,,,,,,100],3925:[6,,,,,,,100],1731:[6,,,,,,,100],3568:[0,,,,,,,0],3569:[0,,,,,,,0],1137:[8,46,,,,46,,54],3135:[3,50,,,,50,,50],952:[7,75,,25,,25,25,25],103:[11,50,,,,50,,50],77:[11,60,,,,60,,40],768:[11,,,,,,,100],3570:[0,,,,,,,0],1713:[9,,,,,,,100],2602:[11,,,,,,,100],2723:[11,66,,33,,33,,33],2749:[11,50,,,50,,,50],2722:[11,66,,33,33,,,33],2826:[11,50,,,,,50,50],2601:[11,50,,,,50,,50],2578:[11,,,,,,,100],2740:[11,50,50,,,,,50],4277:[3,,,,,,,100],1227:[8,,,,,,,100],1224:[8,,,,,,,100],1225:[8,,,,,,,100],1228:[8,,,,,,,100],1226:[8,,,,,,,100],1229:[8,,,,,,,100],1668:[6,,,,,,,100],662:[4,,,,,,,100],658:[4,,,,,,,100],661:[4,,,,,,,100],660:[4,,,,,,,100],1133:[4,,,,,,,100],1758:[5,,,,,,,100],659:[4,,,,,,,100],1669:[6,,,,,,,100],657:[4,,,,,,,100],1716:[10,,,,,,,100],1715:[10,,,,,,,100],666:[3,75,,25,25,25,,25],4102:[11,,,,,,,100],1279:[10,,,,,,,100],128:[10,,,,,,,100],1278:[10,,,,,,,100],3134:[3,50,,,,,50,50],53:[11,,,,,,,100],2694:[3,,,,,,,100],3009:[11,,,,,,,100],3551:[0,,,,,,,0],1043:[11,,,,,,,100],1044:[11,,,,,,,100],1042:[11,,,,,,,100],403:[8,,,,,,,100],1686:[9,,,,,,,100],1685:[9,,,,,,,100],1684:[9,,,,,,,100],1746:[7,,,,,,,100],778:[7,,,,,,,100],881:[10,,,,,,,100],402:[8,,,,,,,100],1734:[6,,,,,,,100],1709:[9,,,,,,,100],486:[8,,,,,,,100],877:[1,,,,,,,0],1519:[1,,,,,,,0],740:[10,,,,,,,100],1948:[8,,,,,,,100],2975:[5,50,,,,,50,50],3231:[9,,,,,,,100],3711:[0,,,,,,,0],3710:[0,,,,,,,0],3712:[0,,,,,,,0],2794:[5,50,,,,50,,50],2459:[10,66,,33,,,33,34],2210:[11,,,,,,,100],1323:[7,,,,,,,100],1325:[7,,,,,,,100],1324:[7,,,,,,,100],2547:[11,,,,,,,100],1127:[11,,,,,,,100],4335:[11,,,,,,,100],2886:[11,,,,,,,100],968:[11,,,,,,,100],2202:[11,,,,,,,100],2887:[11,,,,,,,100],972:[11,,,,,,,100],2888:[11,,,,,,,100],2889:[11,,,,,,,100],2890:[11,,,,,,,100],2930:[11,,,,,,,100],982:[11,,,,,,,100],2877:[11,,,,,,,100],976:[11,,,,,,,100],2891:[11,,,,,,,100],2884:[11,,,,,,,100],989:[11,,,,,,,100],2932:[11,,,,,,,100],980:[11,,,,,,,100],2892:[11,,,,,,,100],2880:[11,,,,,,,100],991:[11,,,,,,,100],2878:[11,,,,,,,100],2893:[11,,,,,,,100],2894:[11,,,,,,,100],987:[11,,,,,,,100],3660:[11,,,,,,,100],983:[11,,,,,,,100],988:[11,,,,,,,100],2885:[11,,,,,,,100],4336:[11,,,,,,,100],1377:[11,,,,,,,100],1379:[11,,,,,,,100],1375:[11,,,,,,,100],4339:[11,80,16,16,16,16,16,17],2204:[11,,,,,,,100],2911:[11,,,,,,,100],2895:[11,,,,,,,100],967:[11,,,,,,,100],4338:[11,,,,,,,100],2875:[11,,,,,,,100],2897:[11,,,,,,,100],2873:[11,,,,,,,100],3658:[11,,,,,,,100],2883:[11,,,,,,,100],2898:[11,,,,,,,100],2896:[11,,,,,,,100],2935:[11,,,,,,,100],2934:[11,,,,,,,100],974:[11,,,,,,,100],2909:[11,,,,,,,100],985:[11,,,,,,,100],981:[11,,,,,,,100],2933:[11,,,,,,,100],2201:[11,,,,,,,100],2899:[11,,,,,,,100],2928:[11,,,,,,,100],2910:[11,,,,,,,100],979:[11,,,,,,,100],2900:[11,,,,,,,100],2931:[11,,,,,,,100],990:[11,,,,,,,100],977:[11,,,,,,,100],2927:[11,,,,,,,100],992:[11,,,,,,,100],986:[11,,,,,,,100],2901:[11,,,,,,,100],2902:[11,,,,,,,100],2879:[11,,,,,,,100],2903:[11,,,,,,,100],2904:[11,,,,,,,100],2905:[11,,,,,,,100],970:[11,,,,,,,100],971:[11,,,,,,,100],2906:[11,,,,,,,100],2874:[11,,,,,,,100],3656:[11,,,,,,,100],969:[11,,,,,,,100],3657:[11,,,,,,,100],2872:[1,,,,,,,0],2907:[11,,,,,,,100],2908:[11,,,,,,,100],965:[11,,,,,,,100],2923:[11,,,,,,,100],2876:[11,,,,,,,100],973:[11,,,,,,,100],966:[11,,,,,,,100],2912:[11,,,,,,,100],2205:[11,,,,,,,100],963:[11,,,,,,,100],2926:[11,,,,,,,100],2203:[11,,,,,,,100],2913:[11,,,,,,,100],993:[11,,,,,,,100],2915:[11,,,,,,,100],2914:[11,,,,,,,100],975:[11,,,,,,,100],2916:[11,,,,,,,100],2924:[11,,,,,,,100],978:[11,,,,,,,100],984:[11,,,,,,,100],4337:[11,,,,,,,100],3659:[11,,,,,,,100],994:[11,,,,,,,100],1378:[11,,,,,,,100],2917:[11,,,,,,,100],2882:[11,,,,,,,100],2881:[11,,,,,,,100],2925:[11,,,,,,,100],2929:[11,,,,,,,100],964:[11,,,,,,,100],1376:[11,,,,,,,100],2918:[11,,,,,,,100],2919:[11,,,,,,,100],2920:[11,,,,,,,100],2921:[11,,,,,,,100],2922:[11,,,,,,,100],2954:[6,,,,,,,100],596:[6,80,16,16,16,16,16,17],3982:[11,,,,,,,100],3976:[8,,,,,,,100],4002:[7,66,,33,,33,,34],2137:[11,,,,,,,100],2172:[4,,,,,,,100],3066:[9,,,,,,,100],2168:[4,50,,50,,,,50],2169:[4,80,20,20,20,,20,20],1399:[11,,,,,,,100],1405:[7,,,,,,,100],2215:[7,66,,33,,,33,34],2216:[7,,,,,,,100],2219:[7,,,,,,,100],2212:[11,,,,,,,100],2395:[6,,,,,,,100],2604:[6,,,,,,,100],3917:[10,,,,,,,100],3916:[10,66,,,33,,33,34],3915:[10,,,,,,,100],3921:[8,66,33,,,33,,34],3920:[8,,,,,,,100],3922:[8,,,,,,,100],2489:[7,,,,,,,100],3869:[9,,,,,,,100],4278:[3,,,,,,,100],4276:[3,,,,,,,100],1409:[10,,,,,,,100],2792:[5,75,25,25,,25,,25],2750:[3,,,,,,,100],2128:[11,,,,,,,100],2136:[7,,,,,,,100],3750:[6,,,,,,,100],3762:[7,,,,,,,100],3761:[7,,,,,,,100],3708:[0,,,,,,,0],3705:[0,,,,,,,0],3706:[0,,,,,,,0],3707:[0,,,,,,,0],3104:[5,,,,,,,100],37:[11,,,,,,,100],4075:[2,,,,,,,0],3716:[0,,,,,,,0],3715:[0,,,,,,,0],4271:[5,,,,,,,100],4167:[5,,,,,,,100],4166:[5,,,,,,,100],4168:[5,,,,,,,100],769:[11,,,,,,,100],833:[8,,,,,,,100],285:[10,,,,,,,100],626:[11,,,,,,,100],3255:[2,,,,,,,0],2388:[3,50,,50,,,,50],891:[11,,,,,,,100],3311:[3,,,,,,,100],3830:[0,,,,,,,0],3820:[0,,,,,,,0],2113:[11,,,,,,,100],2454:[10,,,,,,,100],1655:[11,,,,,,,100],2127:[9,,,,,,,100],265:[10,74,42,,,32,,26],1614:[8,,,,,,,100],2484:[10,,,,,,,100],269:[10,,,,,,,100],2457:[11,,,,,,,100],1157:[8,,,,,,,100],2034:[4,,,,,,,100],1710:[9,,,,,,,100],3273:[9,,,,,,,100],2977:[5,,,,,,,100],633:[5,,,,,,,100],2584:[3,,,,,,,100],885:[9,,,,,,,100],71:[11,,,,,,,100],2452:[4,66,,33,,33,,33],3855:[5,,,,,,,100],1947:[10,,,,,,,100],2514:[3,,,,,,,100],2393:[3,,,,,,,100],2516:[3,,,,,,,100],4049:[7,66,,33,,33,,34],4050:[7,,,,,,,100],4048:[7,50,,,,,50,50],4088:[4,80,16,16,16,16,16,17],2488:[7,,,,,,,100],2460:[7,,,,,,,100],1031:[11,,,,,,,100],1036:[8,,,,,,,100],1036:[8,,,,,,,100],1283:[5,,,,,,,100],397:[5,,,,,,,100],1282:[5,,,,,,,100],457:[11,,,,,,,100],2125:[7,,,,,,,100],2838:[11,,,,,,,100],2761:[3,,,,,,,100],4221:[7,,,,,,,100],2978:[4,80,16,16,16,16,16,17],
2364:[3,,,,,,,100],2753:[3,,,,,,,100],3259:[2,,,,,,,0],3258:[2,,,,,,,0],3386:[2,,,,,,,0],3387:[2,,,,,,,0],3257:[2,,,,,,,0],168:[11,50,,,,50,,50],1548:[11,50,50,,,,,50],4047:[11,83,16,16,17,17,17,17],
3842:[11,,,,,,,100],3843:[11,,,,,,,100],3872:[11,,,,,,,100],3987:[11,,,,,,,100],4004:[11,50,,50,,,,50],3139:[2,,,,,,,],3138:[2,,,,,,,],3635:[11,66,,33,,33,,34],3845:[11,,,,,,,100],3853:[11,,,,,,,100]
});

// itemID:value
// (value is always 1 to indicate true; so when you look up worthless[item], if it's in the list, you get a 1; if it's not in the list, you don't.
var worthless = ({
1467:1,1484:1,3990:1,1214:1,3837:1,1929:1,1930:1,1932:1,1931:1,1459:1,692:1,1474:1,4263:1,1466:1,4103:1,3500:1,4101:1,3853:1,4105:1,108:1,3435:1,1469:1,4104:1,3468:1,4471:1,4472:1,4473:1,4096:1,2077:1,169:1,79:1,4099:1,4332:1,1480:1,3845:1,3278:1,2285:1,2018:1,3938:1,634:1,1749:1,2016:1,10:1,9:1,2288:1,3172:1,3635:1,3235:1,1479:1,3881:1,131:1,4145:1,1199:1,3731:1,127:1,123:1,117:1,1476:1,1212:1,4095:1,1213:1,3:1,218:1,3233:1,3498:1,603:1,2076:1,1481:1,20:1,1216:1,3549:1,1470:1,1997:1,4381:1,1473:1,3737:1,998:1,12:1,3056:1,1219:1,1457:1,3053:1,519:1,4262:1,1215:1,1080:1,1482:1,3624:1,3626:1,3625:1,2945:1,4388:1,5:1,1475:1,3550:1,4261:1,1193:1,6:1,1221:1,1996:1,1992:1,1991:1,1993:1,1994:1,4066:1,1472:1,7:1,1:1,2283:1,4419:1,1471:1,59:1,33:1,2017:1,2075:1,3666:1,4403:1,3437:1,3390:1,4165:1,3436:1,3438:1,3282:1,11:1,22:1,1981:1,1975:1,3951:1,1189:1,1989:1,1974:1,3956:1,1190:1,1976:1,1977:1,1191:1,1983:1,3950:1,1982:1,3955:1,3948:1,1986:1,3953:1,1197:1,3952:1,1198:1,1985:1,1980:1,1984:1,1979:1,1194:1,1978:1,3954:1,3957:1,3949:1,1987:1,1196:1,1990:1,1192:1,1465:1,21:1,2629:1,129:1,1217:1,4377:1,1483:1,3456:1,3927:1,1468:1,3234:1,3444:1,1211:1,3499:1,4260:1,1478:1,2039:1,1477:1,4178:1,4179:1,4180:1,4181:1,4182:1,4191:1

});

// groupNames is indexed starting from 0...
// Sea Salt=0, UW=1, Epic=2,3W=3,2/1W=4, 1W/4N=5, 3N=6, 2N=7, 1N/4P=8, 3P=9, 2P=10, 1P=11; worthless would be 12 if it were really here, and then of course unrecognized too.
var groupNames=["Sea Salt","UW","Epic","3W","2W/1W+3N","1W/4N","3N","2N/1N+3P","1N/4P","3P","2P","1P","Worthless","Unrecognized"];
var filters=["Show All","Elemental","Cold","Hot","Sleaze","Spooky","Stench","Twinkly"];

//find center, helps compatibility with other scripts(hopefully);
var rows=document.getElementsByTagName('tr');

for(var i=0;i<rows.length;i++) {
	if(rows[i].textContent=="Smith Stuff:") {
		center=rows[i+1].getElementsByTagName('center')[0];
		checkUpdates(center);
		break;
	}
}

sel = document.getElementsByName('smashitem')[0];
if(sel) {
	var ar=new Array();
	
	//create filter section
	settingsDiv=document.createElement('div');
	settingsDiv.style.display="none";
	settingsDiv.style.padding="4px";
	settingsDiv.id = "settingsDiv";
	
	filterMenu=document.createElement('select');
	filterMenu.name = "filterMenu";
	for(var i=0;i<filters.length;i++) {
		var option=document.createElement('option');
		option.text=filters[i];
		filterMenu.appendChild(option);
	}
	var preset=GM_getValue('selectedFilter',0)
	filterMenu.selectedIndex=preset;
	filterMenu.addEventListener('change',changeFilter,false);
	
	var filterMenuLabel = document.createElement('label');
	filterMenuLabel.setAttribute('for','filterMenu');
	filterMenuLabel.appendChild(document.createTextNode("Filter:"));
	
	
	var confirmCheckbox = document.createElement('input');
	confirmCheckbox.type="checkbox";
	confirmCheckbox.name = "pulverizeConfirm";
	if(GM_getValue('pulverizeConfirm',false))confirmCheckbox.checked=true;
	confirmCheckbox.addEventListener('change',function (e) {GM_setValue('pulverizeConfirm',e.target.checked)},false);
	
	var confirmLabel = document.createElement('label');
	confirmLabel.setAttribute('for','pulverizeConfirm');
	confirmLabel.appendChild(document.createTextNode("Confirm for Stainless/Plexi?"));
	
	var filterToggle=document.createElement('span');
	filterToggle.appendChild(document.createTextNode('[settings]'));
	filterToggle.addEventListener('click',function(e){settingsDiv.style.display=(settingsDiv.style.display!="block")?"block":"none"},false);
	filterToggle.className="toggle";
	
	settingsDiv.appendChild(filterMenuLabel);
	settingsDiv.appendChild(filterMenu);
	settingsDiv.appendChild(document.createElement('br'));
	settingsDiv.appendChild(confirmLabel);
	settingsDiv.appendChild(confirmCheckbox);	
	
	
	sel.parentNode.insertBefore(settingsDiv,sel.nextSibling.nextSibling);
	sel.parentNode.insertBefore(filterToggle,sel.nextSibling.nextSibling);
	
	var pForm = document.forms.namedItem('pulverize')
	if(pForm)pForm.addEventListener('submit',confirmPulverize,false);
	
	
  for(var i=0;i<groupNames.length;i++) {
  	var o=document.createElement('optgroup');
  	o.label=groupNames[i];
  	ar.push(o);
  }
 	var opts=new Array();
  optlen = sel.options.length;
  var junk = groupNames.length-2;
  var unknown = groupNames.length-1;
  
	for(var i=1;i<optlen;i++) {
		opts[i]=sel.options[i];
	}
		
  for(var i=1;i<opts.length;i++) {
  	var num = opts[i].value;
  	var item = groupList[num];
  	
  	if(item){
  		targetSection=item[0];
  		var titleString="";
  		var firstComma="";
  		for(var a=2;a<8;a++) {
  			if(item[a]){
  				titleString+=firstComma+filters[a]+": "+(item[a])+"%";  // was (item[a]*100) -- 10Mar09 Hellion
  				if(firstComma=="")firstComma=", ";
  			}
  		}
  		opts[i].title=titleString;
  	} else if(worthless[num]) {
  		targetSection=junk;
  	} else {
  		targetSection = unknown;
  	}
  	if(targetSection==null)targetSection=unknown;
  	ar[targetSection].appendChild(opts[i]); 
  }
  
  for(var i=groupNames.length-1;i>=0;i--) {
		if(ar[i]&&ar[i].childNodes.length){
			sel.insertBefore(ar[i],sel.firstChild.nextSibling)
		};
  }
  if(preset!=0)changeFilter();
  qField = document.forms.namedItem('pulverize').elements.namedItem('qty');
  qField.style.border="none";
  wrapper = document.createElement('div');
  wrapper.id="buttonWrapper";

	qField.parentNode.replaceChild(wrapper,qField);
	
	var maxButton=document.createElement('div');
	maxButton.id="maxButton";
	maxButton.addEventListener('click',inputMax,false);
	addCss();
	wrapper.appendChild(qField);
	wrapper.appendChild(maxButton);
}
function confirmPulverize(e) {
	var form = e.target;
	if(GM_getValue('pulverizeConfirm',false)) {
		if(sel=form.elements.namedItem('smashitem')) {
			num=sel.value;
			var name = sel.options[sel.selectedIndex].text.replace(/ \(\d+\)/,'');
			if(num>=1224 && num<=1235) {
				var confirmed = confirm("Are you sure you want to pulverize your "+name+"?");
				if(!confirmed)e.preventDefault();
			}
		}
	}
}

function changeFilter(e) {
	var filter=filterMenu.selectedIndex;
	GM_setValue('selectedFilter',filter);
	for(var i=1;i<optlen;i++) {
		var num = sel.options[i].value;
		var item=groupList[num];
		if(filter==0||item&&item[filter]){sel.options[i].style.color=""} else {sel.options[i].style.color="silver";}
	}
}
function inputMax () {
	if(sel.selectedIndex!=0) {
		var t=sel[sel.selectedIndex].text;
		var num=/\((\d+)\)/.exec(t);
		if(num)num=num[1];
		qField.value=num;
	}
}

function find(xp,location) {
	if(!location)location=document;
	var temp = document.evaluate(xp, location, null, XPathResult.FIRST_ORDERED_NODE_TYPE,null);
	return temp.singleNodeValue;
}

function addGlobalStyle(css) {
    var head, style;
    head = document.getElementsByTagName('head')[0];
    if (!head) { return; }
    style = document.createElement('style');
    style.type = 'text/css';
    style.innerHTML = css;
    head.appendChild(style);
}

function addCss() {
addGlobalStyle(<r><![CDATA[
label {
	margin-right:6px;
	width: 15em;
	display:block;
	float:left;
	font-size:10pt;
	text-align:right;
}
#settingsDiv {
	text-align:left;
	border:1px dotted silver;
	padding:4px;
	margin:4px;
}
#maxButton {
	cursor:pointer;
	border-left:1px solid black;
	height:100%;
	width:12px;
	background:transparent url(data:image/gif;base64,R0lGODlhBQAQAJECAAAAAAMDA%2F%2F%2F%2FwAAACH5BAEAAAIALAAAAAAFABAAAAIUjC0ZCZC%2FDnpCwqpqazTneH2YUgAAOw%3D%3D) scroll no-repeat center center;
}
#maxButton:hover {
	background-color:#eee;
}
#buttonWrapper {
	padding-left:2px;
	border: 1px solid black;
	display: -moz-inline-box;
}
.toggle {
	font-size:8pt;
	cursor:pointer;
	margin-left:5px;
}
span.toggle:hover {
	color: dimgray;
}

]]></r>.toString());
}

//-------------------
// more-advanced checkUpdates commented out in favor of more simplistic one from Skill page organizer...
//---
//function checkUpdates(target,force) {
//	var updateGraphic = "data:image/gif;base64,R0lGODlhPgA%2BAMQQACIi%2F%2B7u%2F93d%2F0RE%2F3d3%2F6qq%2F%2F%2F%2F%2F7u7%2FxER%2FzMz%2F8zM%2F5mZ%2F4iI%2F2Zm%2F1VV%2FwAA%2F%2F%2F%2F%2FwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAABAALAAAAAA%2BAD4AAAX%2F4COOZGmSUKqubOu%2B6SnPD2zfL62jeI%2FvQJ8QBtwNj6yiDsmEKEWDUxOpJBiipukRaCXMtENddwn2zRYG72iALZXNpkQgAFgHFLJ37zQICOp9fwB1WXo3fH4Nd4MCf1KGNogGBQ8AjX6EbpBEJgOUlld9eI%2BbLjIDjQd%2FfZSkpUkmBYKNAAcGDWqar7AlhJYBaQWTrrsxM5YEwratusXGMgjCXmOFzs%2B9BwG5BAcIxMUnVgckDLnV1uHDD1aUCXnW1yPs7A%2Bs7%2FDhBQyUournzjT6BEBgZcE9dOECFFC4Ls1BgCUQCOCnEMCcTM0gksgkMEAUd992HRPgcV3JkK9Om1hyJGJhm4zgsGG0SOdhzBmBVGHkge8UJksLQP67SSKQL3soS5kgwLLeHX8wRUa0M7CgTalLFU5saG4EPBUmJBpwYInSgppRiYr4NaAsAqE8vzrpRbKtArhx5ZpgS0MurxG1dqbt%2BcRviyc1DP81onhx38aOrzYOAvkwmcqR82KON7jyl82mkm4WPbozaNOnvYI%2BJGL1j8SuI4UAADs%3D";
//	if(GM_getValue('newestVersion',0)*1 > currentVersion) {
//		showNeedUpdate();
//	} else {
//		var currentTime = parseInt(new Date().getTime()/60000);
//		var lastUpdate=GM_getValue('lastUpdate',0);
//		if(currentTime-lastUpdate > 2400||force) {
//			GM_get("kol.upup.us/scripts/version.php?script="+escape(scriptName),parseUpdate,true);
//		}
//	}
//	function parseUpdate(txt) {
//		if(txt) {
//			var string=txt.split("\t");
//			if(string[0] && string[1]) {
//				var newestVersion = string[0];
//				var scriptLocation = string[1];
//				if(newestVersion==tryInt(newestVersion)) {
//					GM_setValue('lastUpdate',currentTime);
//					GM_setValue('newestVersion',newestVersion);
//					GM_setValue('scriptLocation',scriptLocation);
//					if(newestVersion>currentVersion)showNeedUpdate();
//				}
//			}
//		}
//	}
//----------------
// and here's the "older" stuff:
function checkUpdates(target) {
	var updateGraphic = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABRCAYAAABFTSEIAAAABGdBTUEAAK%2FINwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAACvJSURBVHja7HwHeFzVmfZ36%2FSu3otlW5KLXHDBNsUYQsJCIIGwECALKX8SSHuS7IaQhPzJPptld0OyZBP4CYTQE0JiBzDNYGODsWXcbVmSbcnqZUaaXm6%2F%2F3fOzIixLIPB%2FN48%2B%2Fzj53iK7tx7znu%2B8r7fOXcY0zTh%2Fz8%2B%2FIOXZfmcX5Rc0%2B12n%2FK5oiigaRpwHHfa76qqCjab7ZRjdF2HTCYDgiCcWwB9Pt85vSAZ5KJFi2Dnzp2sKIo8fkSQYAg2L7%2F8snrLLbfQY2YCkQBfVVUFr732GtPU1CTiR2wev97eXvWKK64wh4aG%2Fmeb%2FMqVKyEUCrEYOtyqGZ6XMXsuME29Fd8XYxMfe%2Byx0363pKSEAo%2FHObHVyubIKsUMLcPXJdgsjz%2F%2B%2BDkfD3uuL%2FjNb36TKSoqsuFLX9rsWjpm%2Fu4qzciUGTr40YXdN998s7hhw4ZTXJF4ygsvvMAsX77cjm%2BLDEOvCsEzn0iahxaCgf9y7n3OY%2BA5nS2WhXQ6DcTSTI3hJGayPspv%2BYJglGZ80hf%2BoOuGC91Xramp0fBwI%2F89u90Ob775JtPa2upQFbWEZYWiCPPKRWF47qsKjP%2Fyr08cm%2Bw5OsyUlZewzc3NZmdn5znLjNy5BPC2226DH%2FzgB2JwfNIi6eOOsOXhK%2BM6v1xius%2FTlGhXKljRGQ7HjInJkOlyufTh4WGora2FjRs3MvPnz7dnMlKpafDFSXb7qmH2gX9Max6%2Fxh3L%2FPnBgVcaa9pUjme49vZ2Y2JiwvwfaYEY%2B0iWFU2DsabkicoU07dmMrUQLVOxMc6%2F3qNHImk9dOUrHrfPgwmBueaaa6SLLrqIgOHIpDMljGkLxJntK4P8z78XkxsDUckHpd631y5dHZizZf223ePBEQYtnMUEZGJWNv9HWSC6JfzoRz9iLKLFls6kHap9%2B4qUbeDmaKYWMqobDFO0uAKHLmR1R7%2BZqg05HHZOtIgGur1VEMRiMMTiFBxaHLTd808xpao8lm6CuBYHqxjhTbPz8K9%2BuvtAZUU139jYaPb39xsYT82%2FaQtkGAauvvpquPPOO1kGWJwIhjVBJ0nJwL9px44d0z%2F3uc9NcTev1wtoVUJXZ5ctkYzZuKotKzOKBxSdA5ZRIJauBp4Bf6Bm479pmvB9iK140%2BG0WxBAQVc5r8R0LRi3%2FfO344q%2FKpqaDSkjDGktCbGMAEU13uuWLlm8wSLaU319fbokSYQWMZiIKIiPPvoozJo1i8uNl%2FQXP2c0YAzjX%2F7lXwyStD6soGA%2BLIAYk2Dfvn08ugthxMXYxFzgJ6kwgS2VTCYJS1c%2F85nPGDgoeOSRR2ypVLo0JY9UQesvnxxO1dXEZAdOho6uIILAOKDYOQheYWBc7b7pH52wtCsQKHLy9khN0PXD70QVe2s4tQDSehTSZgzBl8HCKzDbO5D%2B%2BVePr3v%2B8dHjtXWVCk6gVF1dLa9fv55MqMXpdFrx2ZVrTK6fGWwTpJ9tbW3GgQMHzq0FIgkmZBfdB1wxeGNZgtl9mcdYc1Q0Gg%2BJZtEozqeGHU%2FiofEXX3wxTYBE17LGoynGLNk%2Bi2WYUln1gglpUAwZzUJGK9BhIlkNjEsp9cx%2B%2BqdKr%2FcnSRmdsfhfvx7TeARvHlpeBAGMgGri8YwJSZUFjRdsq65yXPHOK1X3L168iEPwTLR%2BEa%2FvxOsGsDkRMotmysUS2zE7Bm%2FXiYxvh0e6cUMsMcHiFYxz7sKY6aCrq0uvqZ4VS4knIkH%2BrzeFzDfSLq7uoN1Y3OlQl%2B2wqi196OmKyagpwzASVpuV4TkrZ3hPXJ5SnbxOPB5nADkd6KCRuIDvGQjGGgA8Wo2v9snvpgwukTLMRRPx%2BZBC4CQjBrKeQeCJy%2BH%2FBgORjIOpafSsbZjl%2B%2F2sxib20svWeSsqKhx4WidewZ6G%2Fuo47FgicQfmxY1jzQwb8g0fq9v5%2Bx%2B8GO8f6IWenh6Wnizbzg2AAwMDcNlll%2Bk%2Bnz9%2B%2BWe53Z%2F%2BVsnoeLyp3CGwK9zWTcus4iuXW%2FTaow5txRtO9YJDjGGLahKXAtuQhbVFF8elak4zJNAMFROITvuuAHq8aYCJw5mIzgHBd3SORdQgGlsCaTWJlhcD1cigMem5%2BMOg67MQSbqhpnK4dvE6cXZ9cUu4vr6xnOfBGdW31sb4bWsk6G7JmGpxKlVhCWeaoMKvpHfveOfgH5%2FpzAsJ48OAd1YAkqA7ODhIGnf4CKSv%2BPLFUcVQyuVUPWrWWlbgE%2BV2y2B5Qnx6hUVYP2TTWrcZ5sXbWO%2FhCk1QAnLCgz2WqeWZU33X0VyJVSXRGFkIxeaCwFrR4hBaMwnogqDnwMuHcMwIIKn4n9detuby8qvtMes7inf96mHH%2FuWKmaySFY9DUubjMS4IKzHImCfAJ8nSzlcmSJwmikjJgcecUwukX%2BZ5xu%2F3c3aHyKEh9XFcvDksTWB8EoDX7JCSmzHIMxa7ZazRInY1WisOXmllY5nJTKXXMHh03TQ2c9rEGJiFFPTkOAKmoH2xCJmKlifje%2F3kY8k%2FPB4YEZKZCrZ%2B4ehVhvGHK6OMvUzNVIAkV4Gs8TgpaXT9MESUINjFJKiSlnn9L5PkwtYcaOfeAsnDYrEwbW2LBJ%2FfKWiZUDfvkj6eUuOYFEzMqBawsHaQDSe6XwmITCU4LJkiizgCaTmAbqug%2ByoI4KnxG6MiKIxEk8uUWcxIMxBAlIcCWECRvBAXXKW6Vg6KUoJWi9NgxvH6CWzkXBmQVRkCdpwgyQhhFy1kCDnWoFLzP9cAEjdOJBIwPDKgD%2FUI%2FVVLfag0VDpYjcEBYGbl2QTyOxEBRIvUkLKkyrGnKbSIBI1%2F1IJmPHnext77QSZAx%2BskFRGUcBl1fROGELwUgiZRK9Yxm5BJ0Q0WRE6H2LDUh5bP5YQEezZFlbMCkNTtdu1qN1A2GT1HGiN1K0wEy6CZEccBuqlip1VqTRKCxjCTNNQQ0JB0oxWevVggk6hiLCWTwUA0m8hJHKXnNwqOwyuj2dksOnR3J%2Ft1nRo3m4t9H5oPs2fZeQIefd3%2BeiQsYCQUeNJTdooT0ABDLNLUMI4puViGwFIQzZOO%2B3DNpNUsHc9PrI1c493zF%2FSBhEqcXIugw%2BH2aNA0zELgzP8nMZCojVtvvXXGmSKzPDQ0xB06dIg7fPAI9B9NJgRWTVh4068iv8tKIwM%2B6gdzUrJkqGURi85TG47hqcyc7vzkOIFF9YZHnuhMpchHmARh3rx5fF1dnTBnzhy9tLTUmAYoTS533303DVUfCEDUjoAKgquqqiIFTG8u5bMnRSgD2I6OTn7n9t3m8eGtnJw4MSyyuh9DDhna2YtK04T8P5bJ1j1oPCOZmyGilgDIgJVxQom1jgI3kO5AMa7j3052LtInYn2MrmUGetMxUXBpd9zxlaK1ay8OIHjyrKZ6pWBmyGxIeUl6wQUXaKtXrzaJHD0jABsbG6F9Vzvnx%2FSKpwxgZ8vRBXxIde3YLIapihh5OMPUhIp6QbjIU8vNCs%2B2CmaPZuFw0ggTZj6YTxA1Qgg1iVvkmcPcyrMiyn4BLUfAhJCin3v5cmj2rsKZZOCdyRchieS62bMG1lXfDAPxLuiLdoCJvWOY6TmJAVEwMA6m5ev%2FYXFjbclF3uVLLhRKS8tMh5ORMkpI5liLzDIWCVMNSk8mil8LYpKPLFmyJIHGJK9du9Y8IwDffvttQPD4pNJfmeb3fMw0tXqGibgViLhViPp1yDh1M%2BPUGNlrWEE0KsDqKWd4zahkmLTX5BmO0U1lJtIx5YbE7Ygk0wwNrJwDbKwLm5Nma7fFDyrSkIQShZXlV4KD98KzJ%2F4dUsoktBW3wcqyq9ASNRhJ9MK%2B0Oso1ljgWB7JcgpSmQTYBfsps0es1dAI7atw3fhd8Z9YZsRkjKcyMcZUk6wlxpvWBMvY4iJ4Ijz4omB44ujAw3Z12avxoKtz8%2BbNMxLtGQH83ve%2BBz%2B5%2Bx7dXRmNT7CPfDqqxlZlUGHwODgWdTkYbjxVMYIgYBNpMwwBMpoGihrG44IYyM2sq%2BV9gliXrgHPifS1yNhgoXsVBGyVsGv0JZjrWgGLitfi4D1Ivm2QkCPwXNeDUGNvAatohzrrQmiPvgi6lj0nAazRvRh29r8MTiFAP0srSdoc%2BK%2Fw2mTCBJZDAP0QnCzmJNHB8SzaJKuIDIMTzShFKNlBZ5OIUD9qoyNgtY1BwJI%2B8tv%2FKvvz1j%2Bnpa6jh9mZ1MqMAD7yyCPQ3r7LsNn5oeu%2BwfzoyptK%2F3g07CjS1WJwCC4ioHIKwMgpIYXGW0JbZJRhxHrIn%2FNXIhTDzRbDVY23w6HJt2BXcCOIvAuWBD4OxY5KONi%2FA0%2BB824ro98diw%2FAiXAH9IxiKz4ErRXLYX5gDWw%2B9gx4xaKpfla75kKxUEd5ZrZGydK%2BkQubM9AdQqkIwIqmZr0gnxdNC74mE2sFSbcjgFFYPjuurX9q4nc%2F%2Bc6GPl2mikWbSbGcLokwR4500KrVgdvgTV9Z28OtF3H%2FtPNIGhKqhc7mzBTXpDFMzxUHpuKbRmiMAV6hHFaXXQNdwd0QT0Qhmg5RAJ2MH8ai2fXc3vEO%2BOO%2B%2FwSVR7Ktp6FrfC%2B0VCyDcncDVFibACnnuyt19mIodzSCpKSz68ZqBhjz1OBL%2Bqqh9aeRvJNzMqdkLJPGV5KgNOzr4jlhOLhj%2FPW7P3f4SfyaL5dQjJloBfs%2BeZHHyXLe8%2FWjD0Aysae%2BJA4ZSYaMmkaNifIIY9jJTZpSF5TM5hoZUCIdh4FoF2pRN6yp%2BBRdnQslRuiFnKIPJuLZ1zarAwQbupyTAY%2FPBd2TuxDoCbDxDmj0LgRZzmZCRcs%2BNwUWQbG9ir6OZILAksktuPa7zaBxU0Vzmt5vWZOpVWYyJpR6E%2BAWUhMP%2FLjnXl0zSAFWmEbjmA9KpNnezrR83%2FeP39NQloz7HTKopPphZGtxpzY4pZFratjxeCZCT7io4mKocDRBMJm1ugpvA50QCS2ozF0DDhuGCR5Jr1WEuDEJPaFD9Lh55aug2JkF6%2FDAbmrtrRXnQVPp%2FHxtJkt9ZujDyW16n9FCUYE6RAVa69Pwmx%2F2PLxzUziS08rce6mV9wNQz5kt%2F8z9owdfenzgmflNaaon9dyFz2jlCjkcqSBHpeDUZ%2BuargdJyrpeiauSul84NYax0QKl9gaaPHjGAjabHd7ue4mqmVkI1OyyNqp%2FhyMn0N2PgMPiBoGzFHBr5oPKKaBiCs%2FZOjsNezePbHv03%2FvfzFleoUKZ%2FvyeAJrT2DgNng%2F96%2BAf0qPBA41VGZoNjRldZYaGYyLyKiGHp67eUDQPFlZdAEkpgQBWUOlFXJU8rl1wO3x6zrfAarqA5UyYkAZgBAHjMfOSxrIMddcDQ29PdZhYbzAxRLOzeab9otVwk46lqlQGmxaJ3P%2FjwRfQMLSCtZPC5GF%2BUAs0cycg5R6j90g6dO%2BdJ56o8kcUr0tFWpJ12TMRrWSzUEyaBFXL8kOBE2Bu%2BSIU93Y0Gg7joBctMJQFQ0Ew4sPoP84sBUYCvPPEy%2B8mJbzoeLIP%2BiPdkJYT79YG8zH%2BTIW0kVUoVlGH2TUJ88Gf9m3c92b4aA4XOUcv9FwzP6gL5y1PCwQCanFxsWyz2cyXnhzf8pcHe5%2BcWx01ONagHcjq0dM3CiAG94yWgkxuwGORASq9iHuT5rYigMlR%2BrcTwU54dMfPYDjRAwJvBZZnoS%2FWAQkpNtU5u80Bo8njcGKiMzcQhso9GuPMD9ZmVydh96axPX%2F8df%2BruTHHsW%2FpXPZVc0Y0o7g%2FrRYmC1pf%2BtKXzMrKSt6BD7K6lYin%2FX29Q3aL2tHptSX1Cr%2BTHQy5sNPa%2BxYzyOCScpSqC48jAG93bYKPL7kBbKKd8jePrQhCOQDtFgeobIaSbvRX4AUe4ujeHcO7YEXjpflqOGisBEeD%2B6C1chllAOHUOLX0947N5lQ%2BMDCOe50yVAbi5ut7M3trK%2Bcb1TVlAiYvAS%2FLBYMhY3h4WMOmn67gys8EXGlpKWzbto0tLy93pNOp4nRKLc2klaKUdrRJ8Y1dqjms50cjDayp%2BJBYJ1CSJXMLQ%2B%2BzsUhNTLkcscZtnS%2FAxxZ%2Bhr4n2Xc01o80Q4Gaojno4iIlyDype7LElxJwLLQPljVcQq1mLDEATocbDo5uh0ubb0BLtWAmRx7IMzkiTeKbhtflaXY2cjSGz1VrkDDS9RRFcUH%2FsIX51P8Sb7z8au%2BCicOLN6rxig6rzaazHEZH01R1XVf27Nmj%2F%2Fa3vz2lKnPS1o4rrrgC7rvvPuYXv%2FiFxeVyefFCZTyIxToXa1Acm9dJJY%2FeInHS4sjkUkskVsZKqoIzn85xP%2FN9ii0chOMTMCvQBpVIW0ZiJ2Bb13Mwr2oFOK1uys%2Fae16DtprV4MTMihwMFpSthhJbLdW8ROXEkHzPKV4MHrsf3jj%2BLIhWDlI4IU7eh9w0BUcm2nFEOiYeDvHhwM55qLLRsFlRZxOpWOtqRUsfxkmXaFhhyXKAXIKhqE4sqkxXVbZ0LfT6ObbY2xJvqFwqz2qqE2fPaYIrPnGFtnz5cj0cDsOxY8dOBpC4w%2F333w8%2F%2F%2FnPxfr6eh%2BSznLkRxWaZpTG4M1VE9Zf3TJhvvPJSHiOeyI0D91Jh5QWRouKgoSWRBj8mZAHRZFQfjVjBm6hhdVNXU%2BjqrGg0lhKJ%2BGd3i3QjK99jiI8phXKXXVQZCuH%2FSNb0QIzkFEwhmbSEJci0Bs9BLyYrfsdHz1CLZvjWEgZUSrZfKh6rplzB8bcJAxGj4KHK4UbFnwXaj0tsGdwC%2FY%2FliuRmdQadU2ARKwMrdhhd5Qda3OUHJ7NcmS1pXZcYF0gyQlh9uzZcMstt%2Bi1tbXGxo0bKZ2iLkw2M2K8I69JLa%2FCMNgS2RyqnuB%2Ff2XU2H1hLFLhjkcvgJTEouuNQUaPI3BpCgIpQ512zWc6H8QOjccHs9zPXQl%2BdwDaB16FJXUXQamnkqqQgclusHBWGJzshShm5RFMFLFMGBgEy2P30nWOvUNb0K0NIB7Q6GuDixZ9GgKOcjoJvZFDsLHrYTxOgUr3LFhb9%2FfQPboPovFJGI30Q7mvFgTUvAZaOMYHap2mmaJrOQqfBiXsBym1DHy%2BwRa%2F%2F6lG3djZ5kh%2B%2BmkHtPVIacWaTKTG1q1bF8dYq9P93GQwDzzwAMxrXcBrRsqr6NGaCPfnS4bgga8GU5PLxsbnWyLRcsyAKdTBQUwCYbrITQsG5gerOJNNRhZwQL2vlVZbjk0ewMmI0axLEsRosgf60Vp2oyXu7ttMy%2FSzy%2BdjClTR7YZgftkFcN2ir6EcdMLh8e1QZK2CT7fejiGhkVZwbIIDKlAzs4YAx0YPo0pZAX5HCV5Xh6OjB6CppA2K3RXQN9EF4%2BkB6nl5WkTiI1l2wJCHoBqQTHkhFvfxKjfYqDvfWmUwo5CYsB3fu%2BdgaMP659S33nrLJGGLAvj888%2FDid5hXXFus3DND91osAe%2FHUwxvv3dZRCKpdHcJ7BFaJwhS41nWirNa8884QaDpRvFj44cgoNIgkkWbS5bAg2BFhq3gMOOmxG0Np0O7oLZn4SL53wKPJZi2DOwBQLWCmirXEPL9tuOPQctpStgac0ltJjw5x0PwXh0CCrQwuoDzdA5vJ8WG4hlE4D3923H7O6BxpJW9IIhpEVHgEN6xBQoFwIk8SoSlpJKBPV5CsbCIrhcsqPEd3TZMLwSvOvr92969qktumnSNZWsC5PBPfHUw8yrb0L4oqsbH7Y6mJ4v3ln5%2BYXz5OUd3XYYn7QAHR%2FdyJYrAzEnMwPiPqSRUjrJoOT8LqGICv04WpuIGbWt4WJwiX5sXpo1%2F7zn17C4Yh20lC%2FN7rdJjcKmY0%2FD4eB2cKG7Vnoa6OeHBndg%2FFQhmpiENCqXYpR%2BvG4Fn1hK%2F06y%2BWtdf6ITZkVivmrOx2Blw8dgIjYCUA1UHl7WegP0hbrp8QFHGRDSQOkOy5y0jEriOVEnGB3A51Fh3pwMJqP0wM9%2BNPh4T0fqr8cPSdYcySaxSzuJxgQHgX3mVz0kSD229%2FXgruvvqPyHy2%2Bs%2FMJIyObs7LFh53k0EpOCePLMmVBpnw2zA4uo3j0w%2FiZVHPPL18Cqur9DFfEqdZvFlRedhLoiKzCRGAMoz35ShHHsU%2FO%2BApndSegJEuIcp597rEWUimQwdKSUJNitLih11IHfngVwHCmNv8hDrf3ISDssm3UxjbHDk31TV5tT3oYa3kIr4IQFAKooAhSb86asrAMq6wRehwUIXHW5ZGx%2FbmT9o%2FcO%2FvHQjtiuHKEWCxbip1ZeCqsNRER7D78Tj%2Fz4812PfP0Te74S7h15c83iiNZUJ9NsoeCTpuIF9exFyQ0ydsYLa%2BqvhnWNN4INPJgtJQzWNhqbNEWHkdAg7WQG3e2%2Bjd%2BHu565BUnwIQgnsvJtaKIPOgf30eOvbP0CZCQJE8lx%2BreFtato2T%2BcDkEknT2%2B3FUPLGR38guCBXgLD3bksKOJfpqR7VYnFGG8M3MLU4Swt1QtodTFbfPjYHmqokj%2FSQ1QljChKAaCJsMFy2KmGhrvvuv6%2Ff%2F7zs8e%2BT2CN0zKjzlsTloCY2eoNBg5dAmNhB2bIn23rt5zz%2F0%2F7L7PkhnqvXBFAkqLFAqgnpPZJgLZN9ENkWQIO%2BqEWmczospOVYpJbCKuF04G6UDiahhSEAZSRElI4aw1ahJs2PkoyKqELlqBGbQBOoZ2IWWKoMuVwnk16xDsMUgrWSJrE%2BwYn7M1RB6zO%2Bm5gHFzMj1CCwtOq4cuRiUyUZphRycHp8r7JMz4MK4amk4tTkXwitBdL1yRghLLaOip%2Fzj%2B7GfPa79384Zgt6rQvSdsgdWdVJVmZ6jA6DlTlXNakDzLT9w78Nrtl%2B%2F%2F2XP3dz7bUhOKLpyLs2xTgezl5rCj4cQ47O%2FfTk%2B0pPZitD478rmS3HqICqqpQDQ9Sd%2BX%2BivA5rCC1SaiRQVxwBK4HV4M3knoC2bjVK1%2FNvRPdmH8a6fvVzV%2BHATGhpMwTt%2BTOJjIZF28xt%2BEA8lqAg5BJFUdApKiyUi9ErRCs2nvX6YKGYT%2F%2BW1lmG11sIoatDYlYXFzRG5%2Fvuetb1518Nf%2F5%2B7jL%2BZ2sJLxE02cyuGgTi8ssDMIxfw2XTn3ZTLlRMVLoRF55N7v9Dx%2B140HfllfEVcCXloqRAvgQGMU6B4%2FQDtZVzwXyhy1oOdufCEDkDGzjUUHsrLNVUODOI8kmlggsT67xQkBVzEddL5awwkMvH3sZQoCAWxl%2FccxK2Ytye3w0YIEedQF5gIpQJlmdvWNWDp5hBNBmEwEqYwkOntH9%2BtT%2B7vL3XVANqbaLQbMqU8Yv%2F1x19N33dTxxInO5Inc2KO5lsgBmMlVZ7QCEM2ZLDDvwnLuSwm8YAQ1crR5brP8d5%2F4lO3Wbyw5L5ks5bVkI8ouOw3wNqsdBiJHYWDiOH2%2FtH4tumN2xonIlzHAJ6RsRfqyedfD9y99EFqLV2Kc66EACawIly%2B6AeZWtWWrNRh27HbUqXhOkj3JoJsrlkAsFaUg%2B53FqDJS1MWLPRUYExtAQpVC1j6qA430eCLz8uslRd4SeP3gXzDMZGuOHlsxrWVF4hYYHHezqz5WOq%2B8rFKx2RwZBJzElckcgMR4ktMAzLsxw56mkKrlDpZQpaTWrl2rfO2OOyyfv%2FV2y%2Be%2BNWvZ0sssa0eHZ7Em8joahTGbibwAMczA3SP76InaGlYiaS2bKnaS3aj5BCDyVnCIHrDzmDmR%2BhC3FHgRZlcuoBSIJJPjwQMgiiilrDwcHTuYdX3kdDzG8TTKM6fFBbF0GDnlQRrXLm2%2BHgTdjlp7AYJbSj2hY3APqphs2KgoqsXJ6EQr3JR976vBOK7SbXhDA9Ww6OLKxXf9V9sly5askhcuaNOqq6vToijGcxZYWNrSC6uKMwGYL91oOBPK5Zdfrl177bXM6lWXsItWVpY1rDz%2ByZHRalssyaOsS1BRTlbhGORTDrSYg0M7MTbFMFk4oLq4MRsnUKNyPIcJIEWzIgnqD792D6qPd8BmcUCQJrl3H8TiiPog5Jp8j9CTfOwKYSIhVuWwecDn8sPrhzZgHEbFUrYQbj3%2Fh3Dd0juoUokQGRjrpdekFfCSuWCz2%2BGNrr%2BipBukYcUhuukurozMwNGeIrZtXfrS89Z6qhbOXyavWr3KbGpqkhCDzAzuO5VITlcPNEnx9Fvf%2Bha5W4hHcmpRdYnl6p5bF9WZxuBoBc5wgq5jEJfJ62CrFWczdByG0C2bqxZnlxqVDC1REQsjy5iR1CRaSBF0B%2FfjFxQE0Apj8WEKbJ5bXjzvKhhJ9cDx6F5Kdu0W19TsEmCSchzKmGooD9TCS%2Fufhhf3%2FgGuPO8mBKk5m7SwT8%2FveQJ0VoYgcsQxBGwiMQo2mxXlWhoefevfQBREmnA0ukachpFRGxQFikqu%2BIJyffsfKnqTsdKIzWozUO%2Bq3d3d2ul2sZ72TqXzzz%2Bf3KBicbs9fquIU%2B3btSrlfO1rfb0tXDSpo1uSSkzmpD145PQ6urScVmFxw2r6UTwdhfbeTah5kzhbFphXsRzcdh8cHm6HuBbKVqUNEVY2XQq9I90on8ah1FeJmXU2zcAZOQ3XL78DHAjiIMbXLR1%2FhZbKJVAZqKch4dDoDhhAvnhs8AgSZRtdX35254PQGdwFHo8bJlNjsLvnDTgy%2Bg4INh5EiwgxeQI1%2FST1DIZjc5VxDA0JF1Q1TtZwbPxYbKj6UH1DHbS0tCgul0vt6uoyz3h31qpVq2DLli2srus2VdHtKjtYLHn%2F9PngUIMYjdoxiCP10DOnbM8lHbFaLBiz9kE4HgK%2Fuzi7WwBlHSGwpCKdXdqshwXVK8EXC6BeLYLO%2FoM5C7bBCzufBg9m2BJvBXx2%2Bbfhd1t%2BBsdGDoO73g9dI%2FtRQCgYHw%2BDRbRBb%2BgIhg0HWNCaeqMH4OjWvdlBWThwOO3AiyylWSp6ClFPpBpEor7d7phawGOIRNcwYHDITBNW6D5WxDQvGf2GFDQOWrWq7spKPRONRiWfz2dEIpEzu1du69atOHseezqdDqiq5o66fv3FUGrikiPdJTRRkO0RGmXRMyzU0EUhGRycGxrLWyCCSmN33xsYUJGTpVMwv2o5FfyNpS2wqGYNNJcvgR1dr8PSpguRNwZg4%2B6noB%2FDgBPlWhQz5lCkF7Z2PE%2Fj5JHR3cgdBegPH4WdxzZR0kwq6DzGScEi5JKOCBa7SAsFBC2O1OaFLNXKhoisDM2%2FpjUOujJHdtMqkEiI4PZotoqG4UD%2FIderyZih2uwWDROK3tHRcWabi5LJJEkuoiaJRpTdsCwK%2B6%2FZtb8UU%2F4YzqhCaQqdPfbkTRIM5O5EY3VKqi9bdC1aHNIOJMqcyNK9NKHcDgTimqHoCCaFUQQ8Cb958UcYl6z0Hrjg2AD0hTsgrcaBt3Lg8brg8Pjb1EItogiiVQCX05HbI5g1JfREmhiyHTHpDTv54MzktgTRRSSyIcA8eeNlfvcEMDoS%2FhTsPWSHi9dMXALFm%2F9uy%2BOBBwTRZPv6%2BtiZ4uCMhWR0X2Z8NMYmuDcC539m32OSKVw6PGphNZXB2MehFmaQhDIgy%2FmG%2BV1j6AK1YXDZO8cVEW678E6aQZ9u%2FyUYgkL3tdhNH5go8zKZFLqjCgaCjUKGbk0j7oU8jBJfkgiI25OyVr5wTItAzIfbzkw1sW7Sbb5okMALJmC0wQkhz0jDSBMM%2Bp7nDCgt1cDBKke%2BeW3nzds2Th6m%2BxcNQ5u%2BMse8137RlvNs%2Fs98tW6pqgmL8GJVOPmlopUtw2enYGGtNgdvdbh50WoX7KKFLDCw1s7jbmFoDDWwqoNJ7mNDiSBYUfajJYHB0AoMKU2ZdK2Ype7HCVx2RymTsxbm5Lj6UTzInPpR785viRsCo6UV2dCllJpJxTVFzuiqnNZkRQE5gy6QSenBVJoZNzWt%2B4XHBt86fig9kOOBHwhALrc3hDQ7vWEPCXzujkdyh6bT4%2BddgXKLx1tsdZZVi64vfb%2F6kmCmsvl4rw0B0elPmBAn5wV2Ku5kqyPvbrTL48NMrzF%2BxA8EByrLFZjXFI7%2F%2Bq5j6weOS6HYhJScGJWT0Uktz%2FXkgq29pMVzKiSZI9On3E%2FCv88CqnEasMlMpGNhTcGGciel%2B4o5%2F5d%2F3Hi5FBGAJ5mXNYAR%2BZO%2BSGNNAU5MQR3InGlT30f4IAvvsoRhxhT4d16f7Bk6IQ3magF6oXiYJtf0GSowJ22yfL%2F7RAoLC%2FldSlpuNkhtjMd4xVtEB79gUWmpp8heKg9w9DbUU%2B6ZmfHNOXwgVJLMYzLj7TWzrSICmC7Q%2FPndB3kA83WATMH2jhlHcCYWqOdOkt9sI%2Bf3zGGA5%2BfOnetqaV7gmbfScGpawqarFnp3G5FI8Dfyq1L0rk7MRJJsYFhhoKbRyr2dddF8xUkpAFCfBqRSsLXjzGjMtLsX9WkbjfLWiMbHcg6HQy8uCXANzWmLocsca7gxiyUwh2jvLrabM03eRxjzppyrMAxMP79O2UIqxcDcxZ4Aw4xlsHvJabU%2BYwaX1mYqpH4QCyy0RK1wtyYBEIm2HgyOGrZAhlUUG6PIbHb%2FsWHkADSndnAZOS6GLAWb%2BcH38r3HHj%2B6nqFnz80wZi5pvUsCaU%2BQBSTiLNQ3u6tQmdBdvxaLmFIURcK%2BKoVb%2BQqMx3ivGxHfD8DplqgVrp%2FgRclmaQiGRjmbnyuJJQSUazFENkM1sUnXG7Kn4jgT%2FAED6qoV6OsTIRLj6WDP1grpXXF4DYddg5a5MgyNWiAYZCFby2XodelPYkBWt2UkFsqLLXV2m1X3%2BUrIgoQ2MjIiIWNQpu2DNgvywGmjN3%2BGDmJOz8Yo9eC6665j%2FD4%2FMxkd5SyOwVmxAdOUlRQKFJMOgMdM7HYbUFWDwNWqkAhGQy6XyTJ1Pn94H8%2BQZMOcDkEzW2rMbkwq5D0z9c6EqkoVit3ROCPpiYXzfZUjYxboP8FCHC1OklhKnIlVShnU65WCv6qmVMikGCOZTJDNQ2qBC3%2BgdMd%2F2Ijj9%2FvhhhtuYJPJlH08OOzjhfV1sSjDSBmTWkNdDbYGA%2Fxe1ThxcPLon%2F4z0rvpT8E9s%2BbZvN%2B9b95tomh30IL1DBVJ4uZ0rYVYD0vWaNmsFeXdctotXBweU1ujGY%2FdO7r5hUdH2q%2B4qey8FZd4GlafXzQnJdlsBMjhIR4SKQ4iEeI0jE30TFg6O5LatAW1c3fHOiHJmUyGtVpsfFGl4tEMcJCfaVm2JA3VNUiiZWli24aR3VufDx%2Fv2B3vj04opJTBjw9kRr94VzpUWuJ1DAzwp%2BKX27OMjA1WLM%2BA3W7A1q0OTACkuHpq3CSFAPJThFo6Edm%2BMbR3ckyOPvYf%2FRuf%2BQ1nm7%2FCU3P%2BOs%2BstddVnNfa6qweGeGgf4AWGmxN893FB95O9sywrHtuAEwmk7BhwwZ9x%2FbdE9d%2BQ6%2B7%2FuOlPmZ%2BIj3cm%2B544Pv9m7e%2FEhkfG5ATCIicszP6Wy3plK4M9Wa6qxfIdSdO8CdLt5zlERM8f40MieHxrvGkIV1wYUXbls12Gk85njnpeOLmVVUqjPTJoeOHk4N5tiCldemdzeEQtsNP%2FdfIm61LnaXXf632%2FCXz3W0VpbyrvtlVWRAUPnQk%2FtAAktrYQw89RBILv7CzQnppPXffH%2B8f2rH79YkkDsqaOzc3jaxSF3nzhfFXv7qqZK0o2ARdz96cnQePWNSq1RKIenTkn7%2FSu2H4RGLyVxsZfu0llfNee9UCmmqgfmamdkQQdy8rlWHTa%2FG9BZwuf2MMuX4mNCIn33hOHtr6%2FOTe%2BmaH%2Fe%2B%2FVrNk6Hh6siCyfmjGerY8gs%2FdBmvPbXkI5LSyUCCT8pvU8z%2FuJ3gDvPcP%2B89%2F6HCXt3JwSKT7bsguBxXjwIrlCgTckbE7b%2Bx87MDbkX7yhaoGq%2FWep1tuc5SVt25%2BzUL4E42P5KYlj0uH1ati8pcvbv92bycV%2FflFIL1gp4Ul19d8n1K5liw4XoEP8bsJZ%2FsDjIUrePmOkVhHlgUnckuDk7nX4fwyYSyiTQSHklvLynV6gwvZWqEheEsWy1BREgv%2B8HNdBLzu3MBiQ73S8F23dP6GSQc7L7hQpne50R0FaNeVmH2j43L%2FiS5qUZmCIkBhP8hCcaigH6mC4oEGZ3Fn%2BNn%2Behs7TWDntbNSsKqfyT2%2Fy%2FYRL0M3mEs%2BVXplP8ZBch%2FzwjYFmhqSkbtv7Xps56bJg7nv56shanRSi3bsTnZfcb1rTlG54O%2Fv4%2BhFFy1W4I1n%2B%2F7Uvjl6aFoFJV0gxfJ6Pl9tyRTsulCmLVWeUwALA7BRwNoLO1w4iDwRBzljCNd9ueKC0ATvLS%2FTYfGitPTTLx99fMv68fbcd%2BIFYNCYFhyWY0cPpk9cc5Nrns0pulP4l5YW1fjFd7qenBxXhwrKUPl1XGVaoUAtmGBlhv0u5xzAGe8rKeioWjCAwj0lHPmxjfMuctc0z7UtrG2UMz%2B7vfvhl54c2Zo7PlYAYN6KqaYZOZGJnOhM91%2F1WXdrXRXjjoTSh599cPildEILF8Q1qXAP3zQpOr1oYMBZ%2FPDORwVgoW7Wp9XR9IJO5i2WRwuULXa%2B4oYbSi68%2B%2FbO3zz3yPDL%2BZtcCgAsDPB5pcD0H8uMD%2Fdm%2Bm%2F%2BYsnKJ34z8Nr2Fye2mCYFLHm6PSzT%2BqHPoHv%2F2wGcfn%2Fd6TqVr3aLumak9%2B6Jtq9%2FaHhHbsCpAjcsjGPatD0pgElj7NDBxIEj78SPoGuHcsClCkKGMYPKOF0%2FzyqGndvSXJZO5JcJHLnXttxA1IIgny5ww%2FxkW3Pfs%2BVavsibt75UQdzV4BxUJHk494%2FCuiLAuz8xAgWUSCkAQS%2FI8vI06pTvv1qw6HNWtORvHcDC22eVAtrDFfxNK8iOekHsNKclLKUgBOkF2V%2F%2FKFzzb9kCjYLgngeMmwaufpoYBgUJgSkA0JjWzmlMgv%2BGODi9wXsE%2B%2Ff6LhQUKuCjSgx%2F6wDCtPIoM62A%2BX6%2FJjm9tMrAaW7HPxeP%2FyvAAKI1MKtEz30VAAAAAElFTkSuQmCC";
	if(GM_getValue('newestVersion',0)*1 > currentVersion) {
		showNeedUpdate();
	} else {
		var currentTime = parseInt(new Date().getTime()/60000);
		var lastUpdate=GM_getValue('lastUpdate',0);
		if(currentTime-lastUpdate > 2400) {
			GM_get("www.noblesse-oblige.org/hellion/scripts/scriptVersions.txt",parseUpdate,true);
		}
	}
	function parseUpdate(txt) {
		search=new RegExp("^"+scriptName+"\t([0-9.]+)\t([\\w./_-]+)","gim");
		results=search.exec(txt);
		if(results!=null){
			var newestVersion = results[1];
			var scriptLocation = results[2];
			var currentTime = parseInt(new Date().getTime()/60000);
			GM_setValue('lastUpdate',currentTime);
			GM_setValue('newestVersion',newestVersion);
			GM_setValue('scriptLocation',scriptLocation);
			if(newestVersion>currentVersion)showNeedUpdate();
		}
	}
// end "update"
//-----------------------------
	function showNeedUpdate() {
		updateLink=document.createElement('a');
		updateLink.href="http://www.noblesse-oblige.org/hellion/"+GM_getValue('scriptLocation','scripts/pulverize.user.js');
		updateLink.target ="_blank";
		
		updateImage = document.createElement('img');
		updateImage.src = updateGraphic;
		updateImage.border="0";
		updateImage.style.height="62px";
		updateImage.style.width="62px";
		
		target.style.position = "relative";
		target.style.display="block";
		
		with(updateLink.style) {
		position = "absolute";
			right="-5px";
			top="-5px";
			margin="0px";
			padding="0px";
		}

		updateLink.appendChild(updateImage)
		target.appendChild(updateLink);
	}
}

function GM_get(dest, callback,ignoreHost)
{
	var theHost;
	theHost = (ignoreHost)?"":document.location.hostname;
	GM_xmlhttpRequest({
	  method: 'GET',
	  url: 'http://'+ theHost + dest,
		onload:function(details) {
			if( typeof callback=='function' ){
				callback(details.responseText);
			}
		}
	});
}

function tryInt(item) {
	if(item!=='') {
		var tempitem = item*1;
		if(!isNaN(tempitem)) {
			return tempitem;
		}
	}
	return item;
}
